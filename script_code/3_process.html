<!DOCTYPE html>
<html>
<head>
  <title>Struk Pembelian</title>
  <style>
    body {
      overflow: hidden; /* Menyembunyikan overflow agar video mengisi seluruh layar */
      margin: 0; /* Menghilangkan margin untuk memastikan video menutupi seluruh area */
      height: 100vh; /* Menentukan tinggi video */
    }
    table {
      border-collapse: collapse;
      width: 50%;
      margin: 0 auto; /* Mengatur agar tabel berada di tengah */
      background-color: rgba(255, 255, 255, 0.5); /* Menambahkan lapisan transparan pada tabel */
      border-radius: 10px; /* Menambahkan sudut bulat pada tabel */
    }
    th, td {
      border: 1px solid black;
      padding: 8px;
      text-align: left;
    }
    th {
      background-color: #f2f2f2;
    }
  </style>
  <audio autoplay loop>
    <source src="mp3/metamorphosis.mp3" type="audio/mpeg">
  </audio>
</head>
<body>
  <video autoplay muted loop id="bg-video" style="position: fixed; right: 0; bottom: 0; width: 100%; height: 100%; z-index: -1;">
    <source src="background_video/chainsawgirl.mp4" type="video/mp4"> <!-- Buat ganti background video -->
  </video>

  <div>
    <table>
      <tr>
        <th colspan="2">STRUK PEMBELIAN BARANG SEDERHANA</th>
      </tr>
      <tr>
        <td>Tanggal:</td>
        <td id="tanggal"></td>
      </tr>
      <tr>
        <td>Jam:</td>
        <td id="jam"></td>
      </tr>
      <tr>
        <td>Nama Pembeli:</td>
        <td id="nama_pembeli_struk"></td>
      </tr>
      <tr>
        <td colspan="2"><hr></td>
      </tr>
      <tr>
        <td>Judul Buku:</td>
        <td id="judul_buku"></td>
      </tr>
      <tr>
        <td>Pengarang:</td>
        <td id="pengarang"></td>
      </tr>
      <tr>
        <td>Harga:</td>
        <td id="harga"></td>
      </tr>
      <tr>
        <td colspan="2"><hr></td>
      </tr>
      <tr>
        <td>Jumlah Beli:</td>
        <td id="jumlah_beli_struk"></td>
      </tr>
      <tr>
        <td>Total Bayar:</td>
        <td id="total_bayar"></td>
      </tr>
    </table>
  </div>

  <script>
    // Get current date and time
    var currentDate = new Date();
    var tanggal = currentDate.getDate() + '-' + (currentDate.getMonth() + 1) + '-' + currentDate.getFullYear();
    var jam = currentDate.getHours() + ":" + currentDate.getMinutes() + ":" + currentDate.getSeconds();

    // Get URL parameters
    var urlParams = new URLSearchParams(window.location.search);
    var nama_pembeli = urlParams.get('nama_pembeli');
    var jumlah_beli = urlParams.get('jumlah_beli');
    var kode_buku = urlParams.get('Kode_Buku');

    // Define variables for book title, author, and price
    var judul_buku = "";
    var pengarang = "";
    var harga = "";

    // Switch statement to define book title, author, and price based on book code
    switch (kode_buku) {
      case 'B0001':
        judul_buku = "Ms. Access 2010";
        pengarang = "Kurnia";
        harga = "85000";
        break;
      case 'B0002':
        judul_buku = "PHP & MySQL untuk orang awam";
        pengarang = "M Irmansyah";
        harga = "65000";
        break;
      case 'B0003':
        judul_buku = "Web Untuk Bisnis";
        pengarang = "Kadir";
        harga = "79000";
        break;
      default:
        judul_buku = "Tidak Diketahui";
        pengarang = "Tidak Diketahui";
        harga = "0";
        break;
    }

    // Calculate total payment
    var total_bayar = jumlah_beli * harga;

    // Display values in the table
    document.getElementById('tanggal').innerText = tanggal;
    document.getElementById('jam').innerText = jam;
    document.getElementById('nama_pembeli_struk').innerText = nama_pembeli ? nama_pembeli : 'Belum Diisi';
    document.getElementById('judul_buku').innerText = judul_buku;
    document.getElementById('pengarang').innerText = pengarang;
    document.getElementById('harga').innerText = 'Rp ' + harga;
    document.getElementById('jumlah_beli_struk').innerText = jumlah_beli ? jumlah_beli : 'Belum Diisi';
    document.getElementById('total_bayar').innerText = 'Rp ' + total_bayar;
  </script>
</body>
</html>